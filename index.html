<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AnalytixAI - AI-Enhanced Sports Betting</title>
  <!-- Vue.js production build -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
  <!-- Tailwind CSS via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* CSS for the color-changing header animation */
    .title {
      font-size: 3.5rem;
      font-weight: 900;
      text-align: center;
      background: linear-gradient(90deg, #3b82f6, #10b981, #f97316, #3b82f6);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      color: transparent;
      animation: gradientShift 5s ease infinite;
    }
    @keyframes gradientShift {
      0%   { background-position: 0% 50%; }
      50%  { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
  </style>
</head>
<body class="bg-gray-900 text-white">
  <div id="app" class="max-w-7xl mx-auto py-12 px-6">
    <!-- Animated header -->
    <h1 class="title">AnalytixAI</h1>
    <p class="text-center text-gray-400 mb-10 text-xl tracking-wide">
      AI-Enhanced Sports Betting. Fast. Beautiful. Smarter Than Ever.
    </p>

    <!-- Sport selection buttons -->
    <div class="flex justify-center gap-6 mb-12">
      <button
        @click="changeSport('basketball_nba')"
        :class="{ 'bg-blue-800': sport === 'basketball_nba', 'bg-blue-600': sport !== 'basketball_nba' }"
        class="px-8 py-3 rounded-xl text-lg font-semibold hover:bg-blue-700"
      >
        NBA
      </button>
      <button
        @click="changeSport('americanfootball_nfl')"
        :class="{ 'bg-blue-800': sport === 'americanfootball_nfl', 'bg-blue-600': sport !== 'americanfootball_nfl' }"
        class="px-8 py-3 rounded-xl text-lg font-semibold hover:bg-blue-700"
      >
        NFL
      </button>
      <button
        @click="changeSport('baseball_mlb')"
        :class="{ 'bg-blue-800': sport === 'baseball_mlb', 'bg-blue-600': sport !== 'baseball_mlb' }"
        class="px-8 py-3 rounded-xl text-lg font-semibold hover:bg-blue-700"
      >
        MLB
      </button>
    </div>

    <!-- Loading, error, and odds display -->
    <div v-if="loading" class="text-center text-gray-400 text-lg italic">Loading odds...</div>
    <div v-else-if="error" class="text-center text-red-500 font-bold text-lg">{{ error }}</div>
    <div v-else>
      <div
        v-for="game in odds"
        :key="game.id"
        class="bg-gray-800 p-6 rounded-xl shadow-lg mb-8"
      >
        <h2 class="text-2xl font-semibold text-white">
          {{ game.home_team }} vs {{ game.away_team }}
        </h2>
        <p class="text-gray-400">
          {{ new Date(game.commence_time).toLocaleString() }}
        </p>
        <!-- Customize odds display (e.g., h2h, spreads, totals) as needed -->
      </div>
    </div>
  </div>

  <script>
    const { createApp } = Vue;

    createApp({
      data() {
        return {
          sport: 'basketball_nba', // Default sport
          odds: [],                // Array to store odds data
          loading: false,          // Loading state
          error: null              // Error message
        };
      },
      methods: {
        // Fetch odds data
        async fetchOdds() {
          this.loading = true;
          this.error = null;
          try {
            // IMPORTANT: Exposing your API key in client-side code is not secure for production.
            const apiKey = '3daa707ceb363f36b79f44bedc6abe2f';
            const response = await fetch(
              `https://api.the-odds-api.com/v4/sports/${this.sport}/odds?apiKey=${apiKey}&regions=us&markets=h2h,spreads,totals`
            );

            if (!response.ok) {
              throw new Error('Failed to fetch odds');
            }

            const data = await response.json();
            this.odds = data;
          } catch (err) {
            this.error = err.message;
          } finally {
            this.loading = false;
          }
        },
        // Change sport and refresh odds
        changeSport(newSport) {
          this.sport = newSport;
          this.fetchOdds();
        }
      },
      mounted() {
        // Fetch odds when the app mounts
        this.fetchOdds();
      }
    }).mount('#app');
  </script>
</body>
</html>
